// This is the javascript response that will be run when 
// a Display#Show query is invoked. In this case, since we display
// the extra messages in a modal, we inject the HTML into the modal 
// and open it as a popup. The HTML comes from the display partial. 
$('.modal').html("<%= escape_javascript(render(@display)) %>"); //inserts content into your empty div.
$('.modal').dialog({
}); //jquery ui will open it as a modal popup with this line

// We also need to set the click event listener for GNU global links
// within the modal popup. 
$('.message-link a').click(targetFrame);