<!DOCTYPE html>
<html>
    <head>
        <title>SCALe2 : Installation Instructions</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">SCALe2</a></span>
                            </li>
                                                    <li>
                                <span><a href="SCALe2-Home_215846573.html">SCALe2 Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="215846575.html">Source Code Analysis Lab (SCALe)</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            SCALe2 : Installation Instructions
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Wiki Administrator</span>, last modified by <span class='editor'> David Svoboda</span> on Jul 05, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>We provide instructions for installing SCALe on Red Hat Enterprise Linux or Ubuntu. Please see the <a href="System-Requirements_215846591.html">System Requirements</a> for more details on the dependencies.</p><h2 id="InstallationInstructions-InstructionsforInstallationofPrerequisitesoftware">Instructions for Installation of Prerequisite software</h2><h3 id="InstallationInstructions-RedHatEnterpriseLinux(RHEL)Serverrelease7.1">Red Hat Enterprise Linux (RHEL) Server release 7.1</h3><ol><li>Ensure that you have the &quot;<code>rhel-7-*-optional-rpms</code>&quot; repository enabled, as several packages are sourced from here.<br/><code>sudo yum-config-manager --enable &quot;rhel-7-*-optional-rpms&quot;</code><code>  </code></li><li>Install gcc and g++.<br/><code><code>sudo </code>yum install gcc gcc-c++</code></li><li>Install SQLite and its development libraries.<br/><code><code>sudo </code>yum install <code>sqlite </code><code>sqlite-devel</code></code></li><li>Install Ruby and its development libraries.<code><br/><code>sudo </code>yum install ruby </code><code>ruby-devel</code></li><li>Install <code>openssl-devel</code> for SSL support: <br/><code><code>sudo </code>yum install openssl-devel</code></li><li>Install RubyGems, using one of the methods provided at <img class="emoticon emoticon-light-on" src="images/icons/emoticons/lightbulb_on.png" data-emoticon-name="light-on" alt="(lightbulb)"/><span style="color: rgb(0,128,0);"><a href="https://rubygems.org/pages/download" class="external-link" rel="nofollow"><span style="color: rgb(0,128,0);">https://rubygems.org/pages/download</span></a></span><ol><li> For example, use this command:  <code>sudo gem update --system </code></li><li>You may see an error message related to json_pure during installation, but this can be ignored.</li></ol></li><li>Download, build, and install GNU Global. <ol><li><code><code>sudo </code>yum install ncurses-devel</code></li><li>Download, build, and install Global from here: <img class="emoticon emoticon-light-on" src="images/icons/emoticons/lightbulb_on.png" data-emoticon-name="light-on" alt="(lightbulb)"/><span style="color: rgb(0,128,0);"><a href="http://www.gnu.org/software/global/download.html" class="external-link" rel="nofollow"><span style="color: rgb(0,128,0);">http://www.gnu.org/software/global/download.html</span></a></span></li></ol><ul><li style="list-style-type: none;background-image: none;"><ul><li>For example, using a link for Global provided on that page on July 30, 2015:<br/><code>wget</code> <img class="emoticon emoticon-light-on" src="images/icons/emoticons/lightbulb_on.png" data-emoticon-name="light-on" alt="(lightbulb)"/><span style="color: rgb(0,128,0);"><a href="http://tamacom.com/global/global-6.5.tar.gz" class="external-link" rel="nofollow"><span style="color: rgb(0,128,0);">http://tamacom.com/global/global-6.5.tar.gz</span></a></span> <br/><code>tar xzf  global-6.5.tar.gz</code><br/><code>./configure</code><br/><code>make</code><br/><code>sudo make install</code></li></ul></li></ul></li><li>Run <code>gem install json_pure</code></li><li>Run <code>gem install bundler</code></li><li>Download, build, and install the SQLite PCRE package (Perl-Compatible Regular Expressions). This step creates a file called <code>/usr/lib/sqlite3/<span style="color: rgb(0,128,0);"><a href="http://pcre.so/" class="external-link" rel="nofollow"><span style="color: rgb(0,128,0);">pcre.so</span></a></span></code>, which is used by the SCALe back end.<ol><li>The source is available here: <img class="emoticon emoticon-light-on" src="images/icons/emoticons/lightbulb_on.png" data-emoticon-name="light-on" alt="(lightbulb)"/><span style="color: rgb(0,128,0);"><a href="https://github.com/ralight/sqlite3-pcre" class="external-link" rel="nofollow"><span style="color: rgb(0,128,0);">https://github.com/ralight/sqlite3-pcre</span></a></span></li><li>You can download the zip file to your machine from that URL, or clone the git repo (which first requires installing <code>git</code>) <ul><li>For example:   <br/><code>yum install git</code> <br/><code>git clone</code> <img class="emoticon emoticon-light-on" src="images/icons/emoticons/lightbulb_on.png" data-emoticon-name="light-on" alt="(lightbulb)"/><span style="color: rgb(0,128,0);"><a href="https://github.com/ralight/sqlite3-pcre.git" class="external-link" rel="nofollow"><span style="color: rgb(0,128,0);">https://github.com/ralight/sqlite3-pcre.git</span></a></span></li></ul></li><li>Build and install the SQLite PCRE package.</li></ol><ul><li style="list-style-type: none;background-image: none;"><ul><li>For example:  <br/><code>make</code> <br/><code>sudo </code><code>make install</code></li></ul></li></ul></li></ol><h3 id="InstallationInstructions-Ubuntu">Ubuntu</h3><ol><li>Install Ruby if not already installed</li><li>Install gcc, g++, and SQLite; also install the <code>ruby-dev</code> and <code>libsqlite3-dev</code></li><li>Install <code>libssl-dev</code> for SSL support</li><li>Install RubyGems (<code>rubygems</code>)</li><li>Install GNU Global  (<code>global</code>)</li><li>Run <code>gem install json_pure</code></li><li>Run <code>gem install bundler</code></li><li>Install the SQLite PCRE package (Perl-Compatible Regular Expressions) (<code>sqlite3-pcre</code>)</li></ol><h2 id="InstallationInstructions-Serversetup">Server setup</h2><p>This setup assumes you have obtained the SCALe source code. Within the <code>SCALE/scale.app</code> directory, do the following:</p><ol><li>Run the command: <code>bundle install --path vendor/bundle</code></li><li>If using SSL, place SSL certificate and key in <code>/cert</code> and ensure the rails process has read privileges. For the Apache service, ensure that SELinux permissions are set correctly (system_u:object_r:httpd_log_t:s0 seems to work <span style="color: rgb(255,0,0);"><strong>I think what you mean is, it works. We shouldn't be delivering untested software, so permissions that work should be known.</strong></span>).  If not using SSL, in file <code>app/controllers/application_controller.rb</code> set <code>config.force_ssl=false</code> </li><li>Initialize the database with the command: <code>bundle exec rake db:migrate</code><span> </span></li><li>The <code>app/controllers/application_controller.rb</code> file contains the default username and password required by the app, in the line that begins with <code>http_basic_authenticate_with</code>. The password should be changed to a secure value.<strong><span style="color: rgb(255,0,0);"> Also, per info in the demo section, the admin should create accounts for other users. Instructions needed here for that.</span></strong></li><li>Start the server with <code>bundle exec rails s -p 8080</code> or modify the provided shell script <code>./restart.sh</code> with the correct port and directory to launch with SSL<span><br class="_mce_tagged_br"/></span></li><li><span>To set up additional servers, clone the server directory and run steps 1 through 6 in the cloned directory. Alternatively, you can run <code>setup.sh</code>, then start the server. By default, the server uses port 8080; you should use a different port number </span></li></ol><p>To run the server in production mode (using precompiled assets, minified code, and suppressed error messages), use</p><ol><li><pre class="lang-rb prettyprint prettyprinted"><code><span class="pln"><code>bundle exec </code>rake db</span><span class="pun">:</span><span class="pln">migrate RAILS_ENV</span><span class="pun">=</span><span class="pln">production</span></code></pre></li><li><code><span class="pln"><span class="st"><code>bundle exec </code>rake assets:<em>precompile</em></span></span></code></li><li><p><code>bundle exec rails s -p 8082 -e production</code></p></li></ol><div><span style="font-family: monospace;"><br/></span></div><div><span style="font-family: monospace;"><span style="font-family: monospace;"><br/></span></span><hr/><p><a href="User-Roles_215846593.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/216826567/216826568.png" data-image-src="https://wiki-int.sei.cmu.edu/confluence/download/attachments/216826567/button_arrow_left.png?version=1&amp;modificationDate=1513017863440&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="216826568" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="button_arrow_left.png" data-base-url="https://wiki-int.sei.cmu.edu/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="216826567" data-linked-resource-container-version="3"></span></a> <a href="215846575.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/216826567/216826570.png" data-image-src="https://wiki-int.sei.cmu.edu/confluence/download/attachments/216826567/button_arrow_up.png?version=1&amp;modificationDate=1513017872173&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="216826570" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="button_arrow_up.png" data-base-url="https://wiki-int.sei.cmu.edu/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="216826567" data-linked-resource-container-version="3"></span></a> <a href="SCALe-Quick-Start-Demo-for-Auditors_215846628.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/216826567/216826569.png" data-image-src="https://wiki-int.sei.cmu.edu/confluence/download/attachments/216826567/button_arrow_right.png?version=1&amp;modificationDate=1513017872170&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="216826569" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="button_arrow_right.png" data-base-url="https://wiki-int.sei.cmu.edu/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="216826567" data-linked-resource-container-version="3"></span></a></p></div><div><span style="font-family: monospace;"><br/></span></div><div><span style="font-family: monospace;"><br/></span></div><div><span style="font-family: monospace;"><br/></span></div><div><span style="font-family: monospace;"><br/></span></div>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Aug 14, 2018 13:43</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
