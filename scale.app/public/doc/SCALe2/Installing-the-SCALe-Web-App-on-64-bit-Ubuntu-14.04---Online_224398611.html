<!DOCTYPE html>
<html>
    <head>
        <title>SCALe2 : Installing the SCALe Web App on 64-bit Ubuntu 14.04 - Online</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">SCALe2</a></span>
                            </li>
                                                    <li>
                                <span><a href="SCALe2-Home_215846573.html">SCALe2 Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="215846575.html">Source Code Analysis Lab (SCALe)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Installing-SCALe_215846594.html">Installing SCALe</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            SCALe2 : Installing the SCALe Web App on 64-bit Ubuntu 14.04 - Online
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> David Svoboda</span>, last modified by <span class='editor'> Lori Flynn</span> on Jun 26, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>This section describes how to install the SCALe web app on 64-bit Ubuntu 14.04, Trusty Tahr.<strong>  </strong>These instructions make heavy use of the apt-get package manager and reference URLs on the web. Therefore, Internet access is required. </p><h2 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-SecurityNote">Security Note</h2><p>The SCALe web app is, by nature, a networked application. Other machines in the system talk to the web app over a network to upload the outputs and view the diagnostics. However, because of the sensitive nature of the data on this machine, it should not be accessible from the Internet. An Internet connection may be required to configure this machine initially, using the instructions below. However, we recommend that this web server, once operational, should be accessible only through an intranet.</p><h2 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-DocumentationConventions(Usingsudoorsu)forInstallationInstructions">Documentation Conventions (Using <code>sudo</code> or <code>su</code>) for Installation Instructions</h2><p>This documentation contains many code blocks that explain how to perform some action. These blocks are written using the Bash shell language. Because the syntax of different shells can vary, you may need to tweak the syntax if you use a different shell, such as csh. </p><p>Some commands must be run with root privileges. In code blocks, these commands are prepended <span>with the </span> <code>sudo</code> <span> command. If you get an error when running <code>sudo</code>, then you will need to execute these commands in an account that has administrator access. Alternatively, you can run these commands using a root account, in which case you do not need to prepend <code>sudo</code> to the command. If you use a proxy with your local user, you may need to use it for your <code>sudo</code> commands. You can do so with the -E flag as follows: <code>sudo</code> -E</span></p><h2 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-Instructions"><span>Instructions</span></h2><h2 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-"><span><br/></span></h2><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-1.InstallPackages"><span>1. Install Packages<br/></span></h3><p><span>Ensure your source list is up to date. Then you must install a number of packages, summarized in this table:</span></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup></table></div><p><span><br/></span></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><td colspan="1" class="confluenceTd"> <strong>Package</strong></td><td colspan="1" class="confluenceTd"><strong>Version String tested in the past<span style="color: rgb(255,0,0);"> (<u>not necessarily what you will get</u> in online install)</span></strong></td></tr><tr><td class="confluenceTd"><p class="_mce_tagged_br"><code>build-essential</code></p></td><td colspan="1" class="confluenceTd"><p><code>11.6ubuntu6</code></p></td></tr><tr><td class="confluenceTd"><p><code>sqlite3</code></p></td><td colspan="1" class="confluenceTd"><p><code>3.8.2-1ubuntu2.1</code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>sqlite3-pcre</code></p></td><td colspan="1" class="confluenceTd"><p><code>0~git20070120091816+4229ecc-0ubuntu1</code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>rubygems-integration</code></p></td><td colspan="1" class="confluenceTd"><p><code>1.10</code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>python</code></p></td><td colspan="1" class="confluenceTd"><p><code>2.7.5-5ubuntu3</code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>libncurses5-dev</code></p></td><td colspan="1" class="confluenceTd"><p><code>5.9+20140118-1ubuntu1</code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>libssl-dev</code></p></td><td colspan="1" class="confluenceTd"><p><code>1.0.1f-1ubuntu2.15</code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>ruby-dev</code></p></td><td colspan="1" class="confluenceTd"><p><code><code>1:2.3.0+1</code><br/></code></p></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>libsqlite3-dev</code></p></td><td colspan="1" class="confluenceTd"><p><code>3.8.2-1ubuntu2.1</code></p></td></tr></tbody></table></div><p>The following commands update your sources list and install all of these packages:</p><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">sudo apt-get update</code></div><div class="line number2 index1 alt1"><code class="java plain">sudo apt-get install build-essential sqlite3 sqlite3-pcre rubygems-integration python libncurses5-dev libssl-dev ruby-dev libsqlite3-dev</code></div></div></td></tr></tbody></table></div><p><br/></p></div></div><p><strong>A Note on Versions</strong></p><p>It is possible the above command will install different versions of the packages than listed in the table.  For example, the package maintainer may release an update.  This may result in incorrect behavior in the SCALe web application.  To install a specific version of a particular package, use the following command.  The package name and version string should be drawn from the table above.</p><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 458.0px;"/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">sudo apt-get install &lt;package_name&gt;=&lt;version_string&gt;</code></div></div></td></tr></tbody></table></div><p><br/></p><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-2.InstallRubyVersionManager(RVM)">2. Install Ruby Version Manager (RVM)</h3><p>(Source <a href="https://rvm.io/rvm/install" class="external-link" rel="nofollow">https://rvm.io/rvm/install</a>)</p><ol><li><p>Install GPG keys</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><th class="confluenceTh"><code>gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB</code></th></tr></tbody></table></div></li><li><p>RVM has a dedicated Ubuntu package. Run the following instructions from <a href="https://github.com/rvm/ubuntu_rvm" class="external-link" rel="nofollow">https://github.com/rvm/ubuntu_rvm</a>.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><th class="confluenceTh"><p><code>sudo apt-get install software-properties-common</code></p><p><code>sudo apt-add-repository -y ppa:rael-gc/rvm</code></p><p><code>sudo apt-get update</code></p><p><code>sudo apt-get install rvm</code></p></th></tr></tbody></table></div></li><li><p>Install Ruby 2.3.4</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 165.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><code>rvm install 2.3.4<br/>
rvm use 2.3.4</code></th></tr></tbody></table></div></li><li><p>To verify the version is correct, run</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><th class="confluenceTh"><code>ruby -v</code></th></tr></tbody></table></div></li></ol><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-3.InstallGNUGlobal">3. Install GNU Global</h3><p>Next, you must download, build, and install GNU Global.  (This program is available in the Ubuntu repositories, but it is an older version.) The source is available from<a rel="nofollow" href="http://www.gnu.org/software/global/download.html" class="external-link"> <span style="color: rgb(0,128,0);">http://www.gnu.org/software/global/download.html</span>.</a> You should be able to use these commands</p><p><br/></p></div></div><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">cd $SCALE_HOME/scale.app</code></div><div class="line number2 index1 alt1"><code class="java plain">wget http:</code><code class="java comments">//<a href="http://tamacom.com/global/global-6.5.1.tar.gz" class="external-link" rel="nofollow">tamacom.com/global/global-6.5.1.tar.gz</a></code></div><div class="line number3 index2 alt2"><code class="java plain">tar -xzf global-</code><code class="java value">6.5</code><code class="java plain">.</code><code class="java value">1</code><code class="java plain">.tar.gz</code></div><div class="line number4 index3 alt1"><code class="java plain">cd global-</code><code class="java value">6.5</code><code class="java plain">.</code><code class="java value">1</code></div><div class="line number5 index4 alt2"><code class="java plain">./configure</code></div><div class="line number6 index5 alt1"><code class="java plain">make</code></div><div class="line number7 index6 alt2"><code class="java plain">sudo make install</code></div></div></td></tr></tbody></table></div><p><br/></p></div></div><div><div class="syntaxhighlighter sh-confluence nogutter  java"><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-4.InstallGems">4. Install Gems</h3></div></div><p>Next, you need to install some &quot;gems.&quot;  Gem<em> </em>is a package manager for Ruby, which you installed in the previous step. Packages are called <em>gems</em> in this system. The following command installs the required gems:</p><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">sudo -E gem install json_pure bundler</code></div></div></td></tr></tbody></table></div><p><br/></p></div></div><p><strong>A Note on Versions</strong></p><p>It is possible the above command will install different versions of the gems than have been tested (version 1.8.3 of<code> json_pure</code> and version 1.8.3 of <code>bundler</code>).  For example, the gem maintainer may release an update.  This may result in incorrect behavior in the SCALe web application. To install a specific version of a particular gem, use the following command. </p><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">sudo gem install &lt;package_name&gt; -v &lt;version_number&gt;</code></div></div></td></tr></tbody></table></div><p><br/></p></div></div><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-5.InstallSCALe"><span>5. Install SCALe</span></h3><p><span><br/><span>If you have not already extracted the SCALe web app software as described below, you must do so now.  The SCALe web app is provided in a tarball archive, referred to as </span><code>&lt;scale_webapp_archive&gt;.tgz</code><span> below. This archive should be extracted on your web app server in a location of your choosing. From here forward, we refer to this location as </span><code>SCALE_HOME</code><span>. You may find it useful to define this environment variable in your system to point to the root of your SCALe installation. Extracting the archive might look something like this (note 1. the following commands do <strong>not </strong>use sudo; 2. you should substitute your own path to the folder that scale.app will be installed to where it says &quot;/location/of/SCALe/install&quot; AND no slash is needed at the end of this path AND you should NOT have scale.app at the end of this path; and 3. you should substitute your own path to the scale webapp tarball (if you are using that), in the last command):</span></span></p><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">export SCALE_HOME=</code><code class="java string">&quot;/location/of/SCALe/install&quot;</code></div><div class="line number2 index1 alt1"><code class="java plain">mkdir -p $SCALE_HOME</code></div><div class="line number3 index2 alt2"><code class="java plain">cd $SCALE_HOME</code></div><div class="line number4 index3 alt1"><code class="java plain">tar xzf /location/of/&lt;scale_webapp_archive&gt;.tgz</code></div></div></td></tr></tbody></table></div><p><br/></p></div></div><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-6.InstallDependencies"><span> <span>6. Install Dependencies</span></span></h3><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-.1"><span><br/></span></h3><p>Finally, run the following commands to install the remaining web app dependencies and create the initial database. (Note the following commands do <strong>not </strong>use sudo.)</p><div><div class="syntaxhighlighter sh-confluence nogutter  java"><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">cd $SCALE_HOME/scale.app</code></div><div class="line number2 index1 alt1"><code class="java plain">bundle install --path vendor/bundle/</code></div><div class="line number3 index2 alt2"><code class="java plain">bundle exec rake db:migrate</code></div></div></td></tr></tbody></table></div><h3 id="InstallingtheSCALeWebAppon64-bitUbuntu14.04-Online-7.TipsforSCALeperformanceimprovement">7<span style="color: rgb(23,43,77);text-decoration: none;">. </span><a style="text-decoration: none;text-align: left;" href="https://wiki-int.sei.cmu.edu/confluence/display/SCALe2/Tips+for+SCALe+performance+improvement" rel="nofollow">Tips for SCALe performance improvement</a></h3></div></div><hr/><p><a href="https://wiki-int.sei.cmu.edu/confluence/display/SCALe2/Installing+SCALe" rel="nofollow"><span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="plugins/servlet/confluence/placeholder/unknown-attachment" data-image-src="https://wiki-int.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_GB&amp;version=2"></span></span></a><a href="https://wiki-int.sei.cmu.edu/confluence/pages/viewpage.action?pageId=215846575" rel="nofollow"><span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="plugins/servlet/confluence/placeholder/unknown-attachment" data-image-src="https://wiki-int.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_GB&amp;version=2"></span></span></a></p><p><br/></p><p><span><br/></span></p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 28, 2018 11:38</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
