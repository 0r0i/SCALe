<!DOCTYPE html>
<html>
    <head>
        <title>SCALe2 : Web App Design</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">SCALe2</a></span>
                            </li>
                                                    <li>
                                <span><a href="SCALe2-Home_215846573.html">SCALe2 Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="215846575.html">Source Code Analysis Lab (SCALe)</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            SCALe2 : Web App Design
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Wiki Administrator</span>, last modified by <span class='editor'> Aubrie Henderson Woods</span> on Mar 06, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><span> <style type='text/css'>/*<![CDATA[*/
div.rbtoc1521066407527 {padding: 0px;}
div.rbtoc1521066407527 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1521066407527 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1521066407527'>
<ul class='toc-indentation'>
<li><a href='#WebAppDesign-Model'>Model</a></li>
<li><a href='#WebAppDesign-Controller'>Controller</a></li>
<li><a href='#WebAppDesign-Views'>Views</a></li>
</ul>
</div> </span></p><h5 id="WebAppDesign-Model">Model</h5><p>Each audit is organized as a <em> Project </em>instance. A diagnostic is a <em> Display </em>instance. Messages generated by the checkers are instances of<em> Messages</em>. They are related in the Rails way as follows:</p><ul><li>A Project has many Displays and Messages. </li><li>A Display belongs to a Project and has many Messages. </li><li>A Message has one Display. </li></ul><p>The Project model is a purely organizational construct. The main model is named <code style="line-height: 1.4285;">display</code>. A single entry is a row of a diagnostic with its verdict, line, path, and other details.</p><p>The Display model contains two main functions: <code>importScaleMI</code> and <code>createLinks</code>. The function <code>importScaleMI</code> inner-joins the external scale database, erases the existing web app database, if any, and uses bulk SQL queries to populate the web app database. We use bulk SQL queries that bypass rails validations purely for performance reasons. The function <code>createLinks</code> iterates through all database entries and fills in the link attribute according to the GNU global pages in <code>/public/GNU/[PROJECT_ID]/HTML/</code>.</p><h5 id="WebAppDesign-Controller">Controller</h5><p>The application controller contains some configuration items:</p><ol><li>Username and password authentication</li><li>SSL option</li><li>Paths to SCALe archive (backup and nonbackup)</li></ol><p>The source code being audited is not backed up. All other items (GNU pages, SCALe/SQLite3 databases) are backed up. </p><p>The diagnostics controller serves all queries to index and mass updating of entries. It also handles exporting of the database in SQLite and CSV format. </p><p>The displays controller provides the basic new, update, and create actions for the <code>best_in_place</code> Ruby Gem, which allows for immediate and asynchronous updating of individual display items.</p><p>The projects controller handles the basic operations for managing a list of projects. </p><p>Note: The <strong>destroy</strong> link on the main page destroys all files related to the project. These files include the GNU global pages generated, the extra copy of the SCALe database, all diagnostics and messages related to the project from the web app's database, the uploaded source, and uploaded analysis files. </p><h5 id="WebAppDesign-Views">Views</h5><p>The bulk of the views are in the Diagnostics views. The diagnostics table partial is recreated upon asynchronous response from the server, and updates are also done asynchronously using the <code>best_in_place</code> gem. Mass update and filters requests are also done asynchronously. </p><p>The project views include simple new and edit pages. There is also a database page, which is the page where all the source and analysis are uploaded and processed by <code>
    <span> <a href="Back-End-Script-Design_215846946.html#Back-EndScriptDesign-digest_diagnostics.py">digest_diagnostics.py</a></span></code> to create the scale database. </p><p>The display views contain only a new and a messages page. The messages page is displayed when clicking the <strong>Secondary Message Set </strong>link to show additional messages, and the new page is shown when manually creating diagnostics. </p><p>Layout views contain the overall structure of the web app. They are used to display content common to all views. Specifically, the application page renders the header and footer partial views, which separate content on the top of the page from content at the bottom of the page. </p><p> </p><hr/><p><a href="Audit-Instructions_215846700.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/216826567/216826568.png" data-image-src="https://wiki-int.sei.cmu.edu/confluence/download/attachments/216826567/button_arrow_left.png?version=1&amp;modificationDate=1513017863440&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="216826568" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="button_arrow_left.png" data-base-url="https://wiki-int.sei.cmu.edu/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="216826567" data-linked-resource-container-version="3"></span></a> <a href="215846575.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/216826567/216826570.png" data-image-src="https://wiki-int.sei.cmu.edu/confluence/download/attachments/216826567/button_arrow_up.png?version=1&amp;modificationDate=1513017872173&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="216826570" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="button_arrow_up.png" data-base-url="https://wiki-int.sei.cmu.edu/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="216826567" data-linked-resource-container-version="3"></span></a> <a href="Back-End-Script-Design_215846946.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/216826567/216826569.png" data-image-src="https://wiki-int.sei.cmu.edu/confluence/download/attachments/216826567/button_arrow_right.png?version=1&amp;modificationDate=1513017872170&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="216826569" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="button_arrow_right.png" data-base-url="https://wiki-int.sei.cmu.edu/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="216826567" data-linked-resource-container-version="3"></span></a></p><p> </p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 14, 2018 18:26</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
